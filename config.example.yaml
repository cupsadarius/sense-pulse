# sense-pulse configuration
# Copy this file to config.yaml and customize as needed

# Pi-hole v6 settings
pihole:
  host: "http://localhost"
  password: ""  # App password from Pi-hole Settings > API > App password

# Tailscale settings
tailscale:
  cache_duration: 30  # seconds to cache status

# Display settings
display:
  rotation: 0          # 0, 90, 180, or 270 degrees
  show_icons: true     # Show 8x8 pixel icons before text
  scroll_speed: 0.08   # Text scroll speed (lower = faster)
  icon_duration: 1.5   # How long to show icons (seconds)

# Sleep schedule (display turns off during these hours)
sleep:
  start_hour: 22       # 10 PM
  end_hour: 7          # 7 AM
  disable_pi_leds: false  # Disable Pi onboard LEDs (red PWR & green ACT) during sleep

# Update settings
update:
  interval: 60         # Seconds between display cycles

# Logging
logging:
  level: "INFO"        # DEBUG, INFO, WARNING, ERROR
  file: "/var/log/sense-pulse.log"

# Web dashboard settings
web:
  enabled: true        # Enable web dashboard
  host: "0.0.0.0"      # Bind address (0.0.0.0 for all interfaces)
  port: 8080           # Web server port

# Authentication settings (SECURITY: Enable for production!)
auth:
  enabled: false       # Enable HTTP Basic Auth for web dashboard
  username: "admin"    # Username for login
  password_hash: ""    # Bcrypt hash of password (generate with: uv run python -c "from sense_pulse.web.auth import get_password_hash; print(get_password_hash('your_password'))")

# Aranet4 CO2 sensor settings (Bluetooth LE)
# Use the web UI to scan for devices and configure sensors
aranet4:
  timeout: 10          # Connection timeout in seconds
  cache_duration: 60   # Cache readings for this many seconds
  sensors: []          # List of sensors (configure via web UI)
    # Example sensor:
    # - label: "Office"           # Custom label for this sensor
    #   mac_address: "AA:BB:CC:DD:EE:FF"  # Bluetooth MAC address
    #   enabled: true             # Enable this sensor

# Baby monitor settings (RTSP camera stream with PTZ control)
# Streams RTSP video from a baby camera via HLS for web viewing
# Requires ffmpeg to be installed: sudo apt install ffmpeg
baby_monitor:
  enabled: false                # Enable baby monitor streaming
  transport: "tcp"              # RTSP transport: "tcp" or "udp"
  reconnect_delay: 5            # Seconds to wait before reconnecting on failure
  max_reconnect_attempts: -1    # Max reconnect attempts (-1 for infinite)
  hls_segment_duration: 2       # HLS segment duration in seconds
  hls_playlist_size: 3          # Number of segments in HLS playlist
  output_dir: "/tmp/sense-pulse/hls"  # Directory for HLS segments
  cameras: []                   # List of cameras (configure via web UI)
    # Example camera with PTZ:
    # - name: "Nursery"
    #   host: "192.168.1.111"
    #   port: 554
    #   stream_path: "/Streaming/Channels/101"
    #   username: "admin"
    #   password: "admin"
    #   enabled: true
    #   ptz_enabled: true       # Enable PTZ (pan-tilt-zoom) control via ONVIF
    #   onvif_port: 8000        # ONVIF service port (usually 8000 or 80)
    #   onvif_wsdl_dir: ""      # Path to ONVIF WSDL files (empty = use built-in)
    #   ptz_step: 0.05          # Pan/tilt step size (0.0-1.0)
    #   ptz_zoom_step: 0.1      # Zoom step size (0.0-1.0)
